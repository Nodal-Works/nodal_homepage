{{ define "main" }}
<section class="projects-mosaic" style="padding:2rem 0;">
	<div class="container">
		<h1 class="title">Projects</h1>
		<div class="mosaic-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;">
			{{ range .Pages }}
			{{ $page := . }}
			<a href="{{ .RelPermalink }}" class="project-card" style="text-decoration:none;color:inherit;box-shadow:0 2px 8px #0001;border-radius:8px;overflow:hidden;background:#fff;transition:box-shadow .2s;">
				{{ with .Params.image }}
					{{ $image := $page.Resources.GetMatch . }}
					{{ if $image }}
						<img src="{{ $image.RelPermalink }}" alt="{{ $page.Title }}" style="width:100%;height:180px;object-fit:cover;">
					{{ else }}
						<img src="{{ . | relURL }}" alt="{{ $page.Title }}" style="width:100%;height:180px;object-fit:cover;">
					{{ end }}
				{{ end }}
				<div style="padding:1rem;">
					<h2 style="margin:0 0 0.5rem 0;font-size:1.25rem;">{{ .Title }}</h2>
					{{ with .Params.description }}
					<p style="margin:0 0 0.5rem 0;color:#555;">{{ . }}</p>
					{{ end }}
				</div>
			</a>
			{{ end }}
		</div>
	</div>
</section>
{{ end }}